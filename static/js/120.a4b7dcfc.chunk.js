"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[120],{5120:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}});var a=n(9439),r=n(2791),s=n(9434),o=n(6052),c=n(5861),i=n(4687),l=n.n(i),u=n(5705),m=n(8007),d=function(e){return e.contacts.items},f=function(e){return e.contacts.isLoading},_=n(8382),x=n(4238),p="ContactForm_form__dhl+T",h="ContactForm_label__-cVXI",v="ContactForm_input__Bl93P",b="ContactForm_errorText__ueVpO",j=n(3329),C=function(e){var t=e.name;return(0,j.jsx)(u.Bc,{name:t,render:function(e){return(0,j.jsx)("p",{className:b,children:e})}})},N=function(){var e=(0,s.I0)(),t=(0,s.v9)(d),n=(0,r.useState)(!1),i=(0,a.Z)(n,2),f=i[0],b=i[1],N=(0,_.p)(),y=p,g=h,w=v,S=(0,m.Ry)({name:(0,m.Z_)().required(),number:(0,m.Z_)().required()}),k=function(){var n=(0,c.Z)(l().mark((function n(a,r){var s;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=r.resetForm,!t.some((function(e){return e.name.toLowerCase()===a.name.toLowerCase()}))){n.next=4;break}return n.abrupt("return",alert("".concat(a.name," is already in contacts")));case 4:return b(!0),n.next=7,e((0,o.uK)(a));case 7:b(!1),N({title:"Contact added.",description:"".concat(a.name," is in your Contacts now"),status:"success",duration:5e3,isClosable:!0}),s();case 10:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return(0,j.jsx)(u.J9,{initialValues:{name:"",number:""},validationSchema:S,onSubmit:k,children:(0,j.jsxs)(u.l0,{className:y,children:[(0,j.jsxs)("label",{className:g,children:["Name",(0,j.jsx)(u.gN,{className:w,type:"text",name:"name"}),(0,j.jsx)(C,{name:"name"})]}),(0,j.jsxs)("label",{className:g,children:["Number",(0,j.jsx)(u.gN,{className:w,type:"tel",name:"number"}),(0,j.jsx)(C,{name:"number"})]}),(0,j.jsx)(x.z,{isLoading:f,loadingText:"Submitting",colorScheme:"telegram",variant:"outline",type:"submit",children:"Submit"})]})})},y=n(1634),g=function(e){return e.filter},w=function(e){return e.filter.filter},S="Filter_label__vEd1E",k="Filter_input__N7T3z",z=function(){var e=(0,s.I0)(),t=(0,s.v9)(w),n=S,a=k;return(0,j.jsxs)("label",{className:n,children:["Find contacts by name",(0,j.jsx)("input",{className:a,type:"text",name:"filter",value:t,onChange:function(t){var n=t.currentTarget.value;e((0,y.Qt)(n))},pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]})},F=n(9640),E=n(8494),L={item:"ContactListItem_item__IXnKz",wrapper:"ContactListItem_wrapper__HB+tC",text:"ContactListItem_text__fHzb4",number:"ContactListItem_number__vdoo4"},I=function(e){var t=e.id,n=e.name,i=e.number,u=e.handleModal,m=(0,s.I0)(),d=(0,r.useState)(!1),f=(0,a.Z)(d,2),p=f[0],h=f[1],v=(0,_.p)(),b=L.item,C=L.text,N=L.span,y=function(){var e=(0,c.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,m((0,o.GK)(t));case 3:h(!1),v({title:"Contact deleted.",description:"".concat(n," is removed from your Contacts"),status:"success",duration:5e3,isClosable:!0});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,j.jsxs)("li",{id:t,className:b,children:[(0,j.jsxs)("div",{className:L.wrapper,children:[(0,j.jsx)("p",{className:C,children:n}),(0,j.jsx)("p",{className:N,children:i})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(x.z,{onClick:function(){u(t)},type:"submit",colorScheme:"telegram",variant:"ghost",size:"sm",children:(0,j.jsx)(F.J,{as:E.Wx6,boxSize:4})}),(0,j.jsx)(x.z,{onClick:y,isLoading:p,type:"submit",colorScheme:"telegram",variant:"ghost",children:(0,j.jsx)(F.J,{as:E.EgU,boxSize:4})})]})]})},Z="ContactList_list__csErn",A=function(e){var t=e.handleModal,n=(0,s.v9)(d),a=(0,s.v9)(g);return(0,j.jsx)("ul",{className:Z,children:function(){if(n)return n.filter((function(e){return e.name.split(" ").join("").toLocaleLowerCase().includes(a.toLocaleLowerCase())}))}().map((function(e){var n=e.id,a=e.name,r=e.number;return(0,j.jsx)(I,{name:a,number:r,id:n,handleModal:t},n)}))})},B="EditForm_fixedOverlay__n9J1M",M="EditForm_modal__vV9A7",J="EditForm_modalContainer__kApBD",T="EditForm_form__AqHH5",H="EditForm_text__RUnYO",q="EditForm_icon__XErV6",O="EditForm_input__-9yye",V="EditForm_closeButton__IAIAe",K=function(e){var t=e.handleModal,n=e.contactId,c=(0,s.I0)(),i=(0,r.useState)(""),l=(0,a.Z)(i,2),u=l[0],m=l[1],f=(0,r.useState)(""),_=(0,a.Z)(f,2),p=_[0],h=_[1],v=(0,s.v9)(d);(0,r.useEffect)((function(){var e=v.find((function(e){return e.id===n}));m(e.name),h(e.number);var a=function(e){"Escape"===e.key&&t()};return document.addEventListener("keydown",a),function(){document.removeEventListener("keydown",a)}}),[v,n,t]);var b=function(e){switch(e.currentTarget.name){case"name":m(e.target.value);break;case"number":h(e.target.value)}};return(0,j.jsx)("div",{className:B,onClick:function(e){var n=document.querySelector(".".concat(B));e.target===n&&t()},children:(0,j.jsx)("div",{className:M,children:(0,j.jsx)("div",{className:J,children:(0,j.jsxs)("form",{className:T,onSubmit:function(e){e.preventDefault();var a=v.find((function(e){return e.id===n})),r=v.filter((function(e){return e.id!==n})).find((function(e){return e.name.toLowerCase()===u.toLowerCase()}));if(a.name!==u||a.number!==p){if(r)return alert("".concat(r.name," is already in Contacts"));c((0,o.Tk)({contactId:n,name:u,number:p})),t()}else t()},autoComplete:"off",children:[(0,j.jsxs)("label",{className:H,children:[(0,j.jsx)(F.J,{className:q,as:E.Bmn,color:"blue",boxSize:4}),"Name",(0,j.jsx)("input",{className:O,type:"text",name:"name",value:u,onChange:b})]}),(0,j.jsxs)("label",{className:H,children:[(0,j.jsx)(F.J,{className:q,as:E.MdO,color:"blue",boxSize:4}),"Number",(0,j.jsx)("input",{className:O,type:"tel",name:"number",value:p,onChange:b})]}),(0,j.jsx)(x.z,{type:"submit",colorScheme:"telegram",variant:"ghost",size:"md",children:"Save"}),(0,j.jsx)("button",{className:V,type:"button",onClick:function(){t()},children:(0,j.jsx)(F.J,{as:E.sQZ,color:"blue",boxSize:4})})]})})})})},P=n(2577),X="ContactsPage_wrapper__HYOyv",D="ContactsPage_spinner__hHFBB";function Q(){var e=(0,s.I0)(),t=(0,r.useState)(!1),n=(0,a.Z)(t,2),c=n[0],i=n[1],l=(0,r.useState)(""),u=(0,a.Z)(l,2),m=u[0],d=u[1],_=(0,s.v9)(f),x=function(e){i(!c),c||(console.log(e),d(e))};return(0,r.useEffect)((function(){e((0,o.yF)())}),[e]),(0,j.jsxs)("div",{className:X,children:[(0,j.jsx)(N,{}),(0,j.jsx)(z,{}),_?(0,j.jsx)(P.$,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl",className:D}):(0,j.jsx)(A,{handleModal:x}),c&&(0,j.jsx)(K,{handleModal:x,contactId:m})]})}}}]);
//# sourceMappingURL=120.a4b7dcfc.chunk.js.map